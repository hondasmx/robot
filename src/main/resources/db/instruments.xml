<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <changeSet id="2021-12-11" author="hondasmx">
        <sql>
            CREATE TABLE if not exists instruments
            (
                id                integer generated by default as identity NOT NULL,
                figi              text unique                              NOT NULL,
                isin              text                                     NOT NULL,
                ticker            text                                     NOT NULL,
                class_code        text                                     NOT NULL,
                instrument_type   text,
                api_trade_available_flag    Boolean,
                lot               integer,
                currency          text,
                otc_flag          Boolean,
                exchange          text,
                PRIMARY KEY (id)
            );

            ALTER TABLE instruments
                OWNER TO postgres;

        </sql>
    </changeSet>
    <changeSet id="2022-04-27" author="hondasmx">
        <sql>
            ALTER TABLE instruments ADD COLUMN IF NOT EXISTS real_exchange text;

        </sql>
    </changeSet>
</databaseChangeLog>